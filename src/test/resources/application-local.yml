server:
  port: 8092
  servlet:
    context-path: /

spring:
  datasource:
    username: postgres
    password: test
    url: jdbc:postgresql://localhost:5432/familie-ef-mottak
  kafka:
    bootstrap-servers: http://localhost:9092
    properties:
      schema.registry.url: http://localhost:8081
      security:
        protocol: PLAINTEXT
    consumer:
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: io.confluent.kafka.serializers.KafkaAvroDeserializer
      group-id: srvc01
      max-poll-records: 1
      auto-offset-reset: latest
      enable-auto-commit: false

familie:
  ef:
    integrasjoner:
      url: http://localhost:8092/mockintegrasjoner/
    pdfgenerator:
      #url: http://localhost:8081/
      url: https://familie-ef-dokgen.dev.intern.nav.no/
  dokument:
    url: http://localhost:8092/mockdokument/

funksjonsbrytere:
  enabled: false
  unleash:
    uri: http://localhost:4242/api
    environment: local
    applicationName: familie-ef-mottak

logging:
  config: "classpath:logback-test.xml"

no.nav.security.jwt:
  issuer:
    tokenx:
      discoveryurl: http://metadata
      accepted_audience: aud-localhost
      cookie_name: localhost-idtoken
  client:
    registration:
      integrasjoner-client-credentials:
        resource-url: ${familie.ef.integrasjoner.url}
        token-endpoint-url: http://localhost:8092/mockapi/token
        grant-type: client_credentials
        scope: anything4
        authentication:
          client-id: anything5
          client-secret: anything6
          client-auth-method: client_secret_basic
      ef-sak:
        resource-url: ${EF_SAK_URL}
        token-endpoint-url: http://localhost:8092/mockapi/token
        grant-type: client_credentials
        scope: anything5
        authentication:
          client-id: anything5
          client-secret: anything6
          client-auth-method: client_secret_basic
      dokument:
        resource-url: ${familie.dokument.url}
        grant-type: urn:ietf:params:oauth:grant-type:token-exchange
        token-exchange:
          audience: ${familie.dokument.audience}
        authentication:
          client-id: ${TOKEN_X_CLIENT_ID}
          client-auth-method: private_key_jwt
          client-jwk: ${TOKEN_X_PRIVATE_JWK}
        token-endpoint-url: http://metadata


database:
  encryption:
    # 16, 24 or 32 bytes
    key: Det finnes mange gode eksempler.

KAFKA_KEYSTORE_PATH: path
KAFKA_CREDSTORE_PASSWORD: password
KAFKA_TRUSTSTORE_PATH: path

JOURNALFOERINGHENDELSE_V1_TOPIC_URL: teamdokumenthandtering.aapen-dok-journalfoering-v1
KAFKA_ONPREM_BOOTSTRAP_SERVERS: bootstrap_servers
KAFKA_ONPREM_SCHEMA_REGISTRY_URL: schema_registry_url
SERVICE_USER_USERNAME: test
SERVICE_USER_PASSWORD: test

dittnav.soknadfrontendUrl: http://localhost:3000/familie/alene-med-barn/soknad
EF_SAK_URL: http://localhost:8092/mockintegrasjoner/
ettersending.ettersendingUrl: http://localhost:3000/

TOKEN_X_WELL_KNOWN_URL: http://localhost
TOKEN_X_PRIVATE_JWK: '{
    "kty" : "RSA",
    "e" : "AQAB",
    "use" : "sig",
    "kid" : "mock-oauth2-server-key",
    "n" : ""
  }'
